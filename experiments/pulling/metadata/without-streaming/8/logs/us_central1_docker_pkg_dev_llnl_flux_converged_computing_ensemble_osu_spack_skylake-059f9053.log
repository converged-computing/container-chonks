/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

ðŸŸ§ï¸  wait-fs: 2024/11/10 18:38:27 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
ðŸŸ§ï¸  wait-fs: 2024/11/10 18:38:27 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so.1.0
/mnt/flux/view/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
lrwxrwxrwx 1 root root 121 Nov 10 18:38 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

ðŸŒŸï¸ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "+z]*J!{aV%-(v%y*!sKl}%80uiWopkHZme:PG4Zp"
    secret-key = "T:Q]2@*VWC+tFiPmJpofIsMZMHsss@![ULT3Fd!H"
ðŸ‘‹ Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [Waiting for headers] [1 InRelease 13.8 kB/129 kB 11%]                                                         Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
0% [2 InRelease 11.0 kB/270 kB 4%] [1 InRelease 13.8 kB/129 kB 11%]                                                                   0% [2 InRelease 135 kB/270 kB 50%]0% [2 InRelease 253 kB/270 kB 94%]                                  0% [Waiting for headers]                        Get:3 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
0% [Waiting for headers] [3 Packages 2609 B/44.7 kB 6%]                                                       Get:4 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [4 InRelease 2508 B/128 kB 2%] [3 Packages 22.3 kB/44.7 kB 50%]0% [4 InRelease 22.2 kB/128 kB 17%] [3 Packages 30.8 kB/44.7 kB 69%]                                                                    0% [4 InRelease 81.4 kB/128 kB 64%]0% [3 Packages store 0 B] [4 InRelease 84.2 kB/128 kB 66%] [Waiting for headers                                                                               0% [4 InRelease 95.4 kB/128 kB 75%] [Waiting for headers]                                                         0% [Waiting for headers]0% [Waiting for headers] [Waiting for headers]                                              Get:5 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1163 kB]
0% [Waiting for headers] [5 Packages 8237 B/1163 kB 1%]                                                       Get:6 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [6 InRelease 2508 B/127 kB 2%] [5 Packages 25.1 kB/1163 kB 2%]                                                                 0% [5 Packages 81.5 kB/1163 kB 7%]15% [Waiting for headers] [5 Packages 234 kB/1163 kB 20%]                                                         Get:7 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
15% [7 Packages 2577 B/266 kB 1%] [5 Packages 250 kB/1163 kB 22%]                                                                 16% [Waiting for headers] [5 Packages 456 kB/1163 kB 39%]16% [7 Packages store 0 B] [Waiting for headers] [5 Packages 460 kB/1163 kB 40%                                                                               Get:8 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
16% [7 Packages store 0 B] [8 Packages 2816 B/1792 kB 0%] [5 Packages 460 kB/11                                                                               17% [8 Packages 53.5 kB/1792 kB 3%] [5 Packages 525 kB/1163 kB 45%]                                                                   19% [8 Packages 510 kB/1792 kB 28%] [Waiting for headers]                                                         Get:9 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2397 kB]
19% [8 Packages 510 kB/1792 kB 28%] [9 Packages 8448 B/2397 kB 0%]19% [5 Packages store 0 B] [8 Packages 510 kB/1792 kB 28%] [9 Packages 8448 B/2                                                                               23% [8 Packages 1157 kB/1792 kB 65%] [9 Packages 746 kB/2397 kB 31%]                                                                    27% [Waiting for headers] [9 Packages 1685 kB/2397 kB 70%]                                                          Get:10 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
27% [10 Packages 11.2 kB/17.5 MB 0%] [9 Packages 1702 kB/2397 kB 71%]27% [8 Packages store 0 B] [10 Packages 12.3 kB/17.5 MB 0%] [9 Packages 1702 kB30% [8 Packages store 0 B] [10 Packages 825 kB/17.5 MB 5%] [Waiting for headers                                                                               Get:11 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3241 kB]
30% [8 Packages store 0 B] [10 Packages 825 kB/17.5 MB 5%] [11 Packages 22.0 kB                                                                               38% [10 Packages 2023 kB/17.5 MB 12%] [11 Packages 1843 kB/3241 kB 57%]38% [9 Packages store 0 B] [10 Packages 2023 kB/17.5 MB 12%] [11 Packages 1843                                                                                45% [9 Packages store 0 B] [10 Packages 3770 kB/17.5 MB 22%]                                                            50% [10 Packages 5845 kB/17.5 MB 33%]50% [11 Packages store 0 B] [10 Packages 5845 kB/17.5 MB 33%]                                                             62% [10 Packages 10.9 MB/17.5 MB 62%]                                     78% [Waiting for headers]                         Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
78% [12 Packages 41.0 kB/164 kB 25%]78% [10 Packages store 0 B] [12 Packages 63.1 kB/164 kB 38%]                                                            78% [10 Packages store 0 B] [Waiting for headers]                                                 Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1452 kB]
78% [10 Packages store 0 B] [13 Packages 29.6 kB/1452 kB 2%]                                                            81% [10 Packages store 0 B] [Waiting for headers]                                                 Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2696 kB]
81% [10 Packages store 0 B] [14 Packages 19.0 kB/2696 kB 1%]                                                            87% [10 Packages store 0 B] [Waiting for headers]                                                 Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
88% [10 Packages store 0 B] [15 Packages 45.1 kB/51.8 kB 87%]                                                             88% [10 Packages store 0 B] [Waiting for headers]                                                 Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3353 kB]
88% [10 Packages store 0 B] [16 Packages 57.3 kB/3353 kB 2%]                                                            95% [10 Packages store 0 B] [Waiting for headers]                                                 Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
95% [10 Packages store 0 B] [17 Packages 41.0 kB/81.4 kB 50%]                                                             95% [10 Packages store 0 B] [Waiting for headers]                                                 Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
96% [10 Packages store 0 B] [18 Packages 32.8 kB/33.7 kB 97%]                                                             96% [10 Packages store 0 B]96% [10 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.9 MB in 4s (9396 kB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 55%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 54%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
12% [1 time 6750 B/46.7 kB 14%]                               100% [Working]              Fetched 46.7 kB in 1s (92.5 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
ðŸš©ï¸ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 8 -n64  

ðŸŒ€ Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 8 -n64   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 8 -n64  
broker.info[0]: start: none->join 0.594405ms
broker.info[0]: parent-none: join->init 0.026596ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 1.1s
broker.info[0]: rc1-success: init->quorum 1.09724s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-7] (ranks 0-7)
broker.info[0]: quorum-full: quorum->run 1.0306s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                     528.05
2                    2407.04
4                     302.89
8                     475.04
16                    273.04
32                    397.22
64                    915.44
128                   369.73
256                   572.57
512                   283.41
1024                  371.72
2048                  461.59
4096                  468.39
8192                  553.46
16384                 460.15
32768                 631.70
65536                1602.12
131072               2238.70
262144               1647.79
524288               2144.77
1048576              8004.52
FLUXTIME fluxsubmit wall time 0:22.37
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 8 -n64 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 22.4s
broker.info[0]: rc2-success: run->cleanup 22.3811s
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.2s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.2s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.652694s
broker.info[0]: children-complete: shutdown->finalize 0.116247s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.2s
broker.info[0]: rc3-success: finalize->goodbye 0.243808s
broker.info[0]: goodbye: goodbye->exit 0.078064ms
FLUXTIME fluxstart wall time 0:25.54
