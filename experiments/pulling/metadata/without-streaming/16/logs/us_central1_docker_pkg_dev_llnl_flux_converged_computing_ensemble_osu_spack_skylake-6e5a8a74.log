/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

🟧️  wait-fs: 2024/11/10 18:55:56 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
🟧️  wait-fs: 2024/11/10 18:55:56 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so.1.0
/mnt/flux/view/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
lrwxrwxrwx 1 root root 121 Nov 10 18:55 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

🌟️ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "bRzDN:?=ggr}>!GmfqVxdnxcO&2P{-INWKmcYUk}"
    secret-key = ".5sG$RSf&zggCJK3nron(>yk9(F823:-T-aq{D{!"
👋 Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
0% [1 InRelease 13.8 kB/270 kB 5%] [Connecting to security.ubuntu.com]                                                                      Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
                                                                      0% [1 InRelease 67.3 kB/270 kB 25%] [2 InRelease 13.8 kB/129 kB 11%]                                                                    0% [2 InRelease 51.8 kB/129 kB 40%]                                   Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [3 InRelease 8140 B/128 kB 6%] [2 InRelease 85.6 kB/129 kB 66%]                                                                  0% [2 InRelease 105 kB/129 kB 82%]                                  0% [Waiting for headers]                        Get:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [4 InRelease 8140 B/127 kB 6%]                                 0% [Working]0% [Working]            Get:5 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
0% [5 Packages 6797 B/17.5 MB 0%]0% [5 Packages 777 kB/17.5 MB 4%]0% [5 Packages 6355 kB/17.5 MB 36%]                                   Get:6 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1163 kB]
0% [5 Packages 8384 kB/17.5 MB 48%] [6 Packages 6829 B/1163 kB 1%]43% [5 Packages 12.4 MB/17.5 MB 71%] [6 Packages 310 kB/1163 kB 27%]                                                                    54% [5 Packages 16.3 MB/17.5 MB 93%]54% [6 Packages store 0 B] [5 Packages 16.4 MB/17.5 MB 94%] [Waiting for header                                                                               Get:7 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2397 kB]
57% [6 Packages store 0 B] [5 Packages 17.5 MB/17.5 MB 100%] [7 Packages 17.7 k                                                                               57% [6 Packages store 0 B] [7 Packages 149 kB/2397 kB 6%]                                                         Get:8 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
60% [6 Packages store 0 B] [8 Packages 6799 B/1792 kB 0%] [7 Packages 1395 kB/2                                                                               63% [8 Packages 680 kB/1792 kB 38%] [7 Packages 1736 kB/2397 kB 72%]63% [5 Packages store 0 B] [8 Packages 680 kB/1792 kB 38%] [7 Packages 1736 kB/67% [5 Packages store 0 B] [8 Packages 1784 kB/1792 kB 100%] [Waiting for heade                                                                               Get:9 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
67% [5 Packages store 0 B] [8 Packages 1792 kB/1792 kB 100%] [9 Packages 44.7 k67% [5 Packages store 0 B] [8 Packages 1792 kB/1792 kB 100%] [Waiting for heade                                                                               Get:10 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
                                                                               Get:11 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3241 kB]
67% [5 Packages store 0 B] [10 Packages 53.2 kB/266 kB 20%] [11 Packages 28.0 k68% [5 Packages store 0 B] [Waiting for headers] [11 Packages 211 kB/3241 kB 7%                                                                               Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
68% [5 Packages store 0 B] [12 Packages 45.1 kB/164 kB 27%] [11 Packages 211 kB68% [5 Packages store 0 B] [Waiting for headers] [11 Packages 328 kB/3241 kB 10                                                                               Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3353 kB]
69% [5 Packages store 0 B] [13 Packages 16.4 kB/3353 kB 0%] [11 Packages 338 kB                                                                               82% [5 Packages store 0 B] [13 Packages 2854 kB/3353 kB 85%]                                                            83% [5 Packages store 0 B] [Waiting for headers]                                                Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2696 kB]
83% [5 Packages store 0 B] [14 Packages 16.4 kB/2696 kB 1%]                                                           89% [5 Packages store 0 B] [Waiting for headers]                                                Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1452 kB]
89% [5 Packages store 0 B] [15 Packages 36.9 kB/1452 kB 3%]                                                           92% [5 Packages store 0 B]                          Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
92% [5 Packages store 0 B] [16 Packages 8192 B/51.8 kB 16%]                                                           93% [5 Packages store 0 B] [Waiting for headers]                                                Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
93% [5 Packages store 0 B] [17 Packages 16.4 kB/33.7 kB 49%]                                                            93% [5 Packages store 0 B] [Waiting for headers]                                                Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
93% [5 Packages store 0 B] [18 Packages 43.6 kB/81.4 kB 54%]                                                            93% [5 Packages store 0 B]93% [5 Packages store 0 B]                          93% [Working]93% [7 Packages store 0 B]                          94% [Working]94% [9 Packages store 0 B]                          94% [Working]94% [8 Packages store 0 B]                          95% [Working]95% [10 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]                           96% [Working]96% [11 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.9 MB in 3s (13.2 MB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 60%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 60%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
9% [1 time 5342 B/46.7 kB 11%]                              100% [Working]              Fetched 46.7 kB in 0s (316 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
🚩️ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 16 -n128  

🌀 Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 16 -n128   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 16 -n128  
broker.info[0]: start: none->join 0.551717ms
broker.info[0]: parent-none: join->init 0.024768ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 1.8s
broker.info[0]: rc1-success: init->quorum 1.76196s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-5,7-8,10,12-14] (ranks 0-5,7-8,10,12-14)
broker.info[0]: online: flux-sample-[0-15] (ranks 0-15)
broker.info[0]: quorum-full: quorum->run 6.42608s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                     602.26
2                     934.72
4                     526.35
8                     874.93
16                   1830.91
32                    905.61
64                   1063.03
128                  1367.55
256                  1639.13
512                   828.91
1024                  842.18
2048                 2146.10
4096                 1398.72
8192                 1489.94
16384                2784.95
32768                3398.82
65536                4624.35
131072               8987.04
262144               5113.73
524288               5394.21
1048576              4833.88
FLUXTIME fluxsubmit wall time 0:42.45
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 16 -n128 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 42.5s
broker.info[0]: rc2-success: run->cleanup 42.4539s
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.611175s
broker.info[0]: children-complete: shutdown->finalize 0.115889s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.2s
broker.info[0]: rc3-success: finalize->goodbye 0.212747s
broker.info[0]: goodbye: goodbye->exit 0.072483ms
FLUXTIME fluxstart wall time 0:51.60
