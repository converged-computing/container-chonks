/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

🟧️  wait-fs: 2024/11/10 20:09:34 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
🟧️  wait-fs: 2024/11/10 20:09:34 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so.1.0
/mnt/flux/view/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
lrwxrwxrwx 1 root root 121 Nov 10 20:08 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

🌟️ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "e0$SaV>c-z=R40:%jiw:ps2DeD&^S410<}0-/:26"
    secret-key = "jbQVv)h%GXg)rAbHyGrUq5hy]/afK)W3:eGF-72#"
👋 Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [Connecting to archive.ubuntu.com (185.125.190.82)] [1 InRelease 11.0 kB/129                                                                               Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
                                                                               0% [2 InRelease 13.8 kB/270 kB 5%] [1 InRelease 19.4 kB/129 kB 15%]                                                                   0% [2 InRelease 70.1 kB/270 kB 26%]                                   0% [2 InRelease 118 kB/270 kB 44%]                                  Get:3 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3241 kB]
0% [2 InRelease 232 kB/270 kB 86%] [3 Packages 2605 B/3241 kB 0%]                                                                 0% [3 Packages 44.8 kB/3241 kB 1%]0% [Waiting for headers] [3 Packages 180 kB/3241 kB 6%]                                                       Get:4 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [4 InRelease 2508 B/128 kB 2%] [3 Packages 191 kB/3241 kB 6%]                                                                0% [3 Packages 245 kB/3241 kB 8%]                                 Get:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [5 InRelease 2508 B/127 kB 2%] [3 Packages 504 kB/3241 kB 16%]                                                                 0% [3 Packages 718 kB/3241 kB 22%]0% [Waiting for headers] [3 Packages 1067 kB/3241 kB 33%]18% [Waiting for headers] [3 Packages 1709 kB/3241 kB 53%]                                                          Get:6 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
18% [6 Packages 2577 B/266 kB 1%] [3 Packages 1809 kB/3241 kB 56%]                                                                  21% [Waiting for headers] [3 Packages 3019 kB/3241 kB 93%]                                                          Get:7 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
21% [7 Packages 32.3 kB/17.5 MB 0%] [3 Packages 3037 kB/3241 kB 94%]21% [6 Packages store 0 B] [7 Packages 32.3 kB/17.5 MB 0%] [3 Packages 3037 kB/                                                                               22% [6 Packages store 0 B] [7 Packages 82.7 kB/17.5 MB 0%]                                                          23% [7 Packages 82.7 kB/17.5 MB 0%] [Waiting for headers]23% [3 Packages store 0 B] [7 Packages 82.7 kB/17.5 MB 0%] [Waiting for headers                                                                               Get:8 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1163 kB]
23% [3 Packages store 0 B] [7 Packages 492 kB/17.5 MB 3%] [8 Packages 6829 B/1127% [3 Packages store 0 B] [7 Packages 730 kB/17.5 MB 4%] [Waiting for headers]                                                                               Get:9 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2397 kB]
27% [3 Packages store 0 B] [7 Packages 730 kB/17.5 MB 4%] [9 Packages 43.5 kB/2                                                                               32% [7 Packages 1298 kB/17.5 MB 7%] [9 Packages 1623 kB/2397 kB 68%]32% [8 Packages store 0 B] [7 Packages 1298 kB/17.5 MB 7%] [9 Packages 1623 kB/35% [8 Packages store 0 B] [7 Packages 1657 kB/17.5 MB 9%] [Waiting for headers                                                                               Get:10 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
35% [8 Packages store 0 B] [7 Packages 1668 kB/17.5 MB 10%] [10 Packages 15.9 k                                                                               35% [8 Packages store 0 B] [7 Packages 1668 kB/17.5 MB 10%]                                                           37% [7 Packages 2296 kB/17.5 MB 13%]37% [9 Packages store 0 B] [7 Packages 2296 kB/17.5 MB 13%]                                                           45% [7 Packages 5710 kB/17.5 MB 33%]45% [10 Packages store 0 B] [7 Packages 5718 kB/17.5 MB 33%]                                                            46% [7 Packages 5891 kB/17.5 MB 34%]59% [7 Packages 11.2 MB/17.5 MB 64%]                                    73% [Waiting for headers]                         Get:11 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
73% [11 Packages 16.4 kB/1792 kB 1%]73% [7 Packages store 0 B] [11 Packages 81.9 kB/1792 kB 5%]                                                           77% [7 Packages store 0 B] [Waiting for headers]                                                Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
77% [7 Packages store 0 B] [12 Packages 32.8 kB/164 kB 20%]                                                           77% [7 Packages store 0 B] [Waiting for headers]                                                Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
77% [7 Packages store 0 B] [13 Packages 29.6 kB/51.8 kB 57%]                                                            78% [7 Packages store 0 B] [Waiting for headers]                                                Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3353 kB]
78% [7 Packages store 0 B] [14 Packages 43.1 kB/3353 kB 1%]                                                           85% [7 Packages store 0 B] [Waiting for headers]                                                Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2696 kB]
85% [7 Packages store 0 B] [15 Packages 32.2 kB/2696 kB 1%]                                                           91% [7 Packages store 0 B] [Waiting for headers]                                                Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1452 kB]
91% [7 Packages store 0 B] [16 Packages 22.7 kB/1452 kB 2%]                                                           95% [7 Packages store 0 B] [Waiting for headers]                                                Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
95% [7 Packages store 0 B] [17 Packages 44.8 kB/81.4 kB 55%]                                                            95% [7 Packages store 0 B] [Waiting for headers]                                                Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
95% [7 Packages store 0 B] [18 Packages 33.7 kB/33.7 kB 100%]                                                             95% [7 Packages store 0 B]95% [7 Packages store 0 B]                          96% [Working]96% [11 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.9 MB in 4s (8209 kB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 59%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 60%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
24% [1 time 13.8 kB/46.7 kB 30%]                                100% [Working]              Fetched 46.7 kB in 0s (292 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
🚩️ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 4 -n32  

🌀 Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 4 -n32   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 4 -n32  
broker.info[0]: start: none->join 0.512539ms
broker.info[0]: parent-none: join->init 0.024375ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 0.9s
broker.info[0]: rc1-success: init->quorum 0.919048s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-3] (ranks 0-3)
broker.info[0]: quorum-full: quorum->run 0.328758s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                     218.36
2                     158.11
4                     275.53
8                     143.43
16                    147.16
32                   1088.91
64                    854.07
128                   334.92
256                   344.95
512                   555.82
1024                  583.79
2048                  410.03
4096                  382.13
8192                  411.64
16384                 359.41
32768                 415.29
65536                 465.94
131072                569.54
262144                816.44
524288               3344.61
1048576              2999.38
FLUXTIME fluxsubmit wall time 0:11.45
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 4 -n32 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 11.5s
broker.info[0]: rc2-success: run->cleanup 11.4591s
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.604285s
broker.info[0]: children-complete: shutdown->finalize 0.116626s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.2s
broker.info[0]: rc3-success: finalize->goodbye 0.208051s
broker.info[0]: goodbye: goodbye->exit 0.07199ms
FLUXTIME fluxstart wall time 0:13.65
