/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

üüßÔ∏è  wait-fs: 2024/11/10 23:43:58 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
üüßÔ∏è  wait-fs: 2024/11/10 23:43:58 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so.1.0
/mnt/flux/view/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
lrwxrwxrwx 1 root root 121 Nov 10 23:43 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

üåüÔ∏è Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "Wb5iGMVFZU}R+P?fH=fNXc1C&R7^}p0+[f6:T*}c"
    secret-key = "O:(]Cr![{DW&2{$TE3e^@1MEqJ{tw#+8.T)N)!x8"
üëã Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [Connecting to archive.ubuntu.com] [1 InRelease 13.8 kB/129 kB 11%]                                                                      0% [Connecting to archive.ubuntu.com (185.125.190.82)]                                                      0% [Waiting for headers]                        Get:2 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2397 kB]
0% [Waiting for headers] [2 Packages 4013 B/2397 kB 0%]                                                       0% [Waiting for headers]0% [2 Packages store 0 B] [Waiting for headers] [Waiting for headers]                                                                     Get:3 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1163 kB]
0% [2 Packages store 0 B] [Waiting for headers] [3 Packages 29.5 kB/1163 kB 3%]                                                                               0% [2 Packages store 0 B] [Waiting for headers] [Waiting for headers]                                                                     Get:4 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
0% [2 Packages store 0 B] [Waiting for headers] [4 Packages 44.7 kB/44.7 kB 100                                                                               0% [2 Packages store 0 B] [Waiting for headers] [Waiting for headers]                                                                     Get:5 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3241 kB]
0% [2 Packages store 0 B] [Waiting for headers] [5 Packages 65.3 kB/3241 kB 2%]                                                                               0% [2 Packages store 0 B] [Waiting for headers]                                               0% [Waiting for headers]0% [3 Packages store 0 B] [Waiting for headers]                                               0% [Waiting for headers]0% [4 Packages store 0 B] [Waiting for headers]                                               0% [Waiting for headers]0% [5 Packages store 0 B] [Waiting for headers]                                               0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]0% [Waiting for headers]                        Get:6 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
0% [6 InRelease 7420 B/270 kB 3%]0% [6 InRelease 201 kB/270 kB 74%]                                  0% [Working]            Get:7 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [7 InRelease 2266 B/128 kB 2%]                                 0% [Working]0% [Waiting for headers]                        Get:8 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [8 InRelease 4844 B/127 kB 4%]                                 0% [Working]0% [Waiting for headers]                        Get:9 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
0% [9 Packages 2337 B/266 kB 1%]                                0% [Waiting for headers]                        Get:10 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
0% [10 Packages 4306 B/17.5 MB 0%]0% [9 Packages store 0 B] [10 Packages 4306 B/17.5 MB 0%]                                                         0% [10 Packages 53.2 kB/17.5 MB 0%]33% [10 Packages 204 kB/17.5 MB 1%]52% [10 Packages 8461 kB/17.5 MB 48%]                              2696 kB/s 6s73% [Waiting for headers]                                          2696 kB/s 3s                                                                               Get:11 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
73% [11 Packages 131 kB/1792 kB 7%]                                2696 kB/s 3s73% [10 Packages store 0 B] [11 Packages 131 kB/1792 kB 7%]        2696 kB/s 3s77% [10 Packages store 0 B] [Waiting for headers]                  2696 kB/s 2s                                                                               Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
77% [10 Packages store 0 B] [12 Packages 0 B/164 kB 0%]            2696 kB/s 2s77% [10 Packages store 0 B] [Waiting for headers]                  2696 kB/s 2s                                                                               Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
78% [10 Packages store 0 B]                                        2696 kB/s 2s                                                                               Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3353 kB]
78% [10 Packages store 0 B] [14 Packages 43.1 kB/3353 kB 1%]       2696 kB/s 2s85% [10 Packages store 0 B] [Waiting for headers]                  2696 kB/s 1s                                                                               Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2696 kB]
85% [10 Packages store 0 B] [15 Packages 72.6 kB/2696 kB 3%]       2696 kB/s 1s91% [10 Packages store 0 B] [Waiting for headers]                  2696 kB/s 0s                                                                               Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1452 kB]
92% [10 Packages store 0 B] [16 Packages 88.2 kB/1452 kB 6%]       2696 kB/s 0s95% [10 Packages store 0 B] [Waiting for headers]                  2696 kB/s 0s                                                                               Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
95% [10 Packages store 0 B] [17 Packages 77.6 kB/81.4 kB 95%]      2696 kB/s 0s95% [10 Packages store 0 B] [Waiting for headers]                  2696 kB/s 0s                                                                               Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
95% [10 Packages store 0 B]                                        2696 kB/s 0s95% [10 Packages store 0 B]                                        2696 kB/s 0s96% [Working]                                                      2696 kB/s 0s96% [11 Packages store 0 B]                                        2696 kB/s 0s96% [Working]                                                      2696 kB/s 0s96% [12 Packages store 0 B]                                        2696 kB/s 0s97% [Working]                                                      2696 kB/s 0s97% [13 Packages store 0 B]                                        2696 kB/s 0s97% [Working]                                                      2696 kB/s 0s97% [14 Packages store 0 B]                                        2696 kB/s 0s98% [Working]                                                      2696 kB/s 0s98% [15 Packages store 0 B]                                        2696 kB/s 0s98% [Working]                                                      2696 kB/s 0s98% [16 Packages store 0 B]                                        2696 kB/s 0s99% [Working]                                                      2696 kB/s 0s99% [17 Packages store 0 B]                                        2696 kB/s 0s99% [Working]                                                      2696 kB/s 0s99% [18 Packages store 0 B]                                        2696 kB/s 0s100% [Working]                                                     2696 kB/s 0s                                                                               Fetched 34.9 MB in 8s (4425 kB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 58%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 57%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
9% [1 time 5342 B/46.7 kB 11%]                              100% [Working]              Fetched 46.7 kB in 0s (286 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
üö©Ô∏è Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 32 -n256  

üåÄ Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 32 -n256   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 32 -n256  
broker.info[0]: start: none->join 0.533432ms
broker.info[0]: parent-none: join->init 0.025098ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 1.0s
broker.info[0]: rc1-success: init->quorum 1.04814s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-31] (ranks 0-31)
broker.info[0]: quorum-full: quorum->run 1.21348s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                    2870.69
2                    2753.85
4                    2289.64
8                    1830.50
16                   2792.92
32                   1657.04
64                   3033.26
128                  2664.95
256                  1014.52
512                  2523.77
1024                 2166.67
2048                 4060.72
4096                 3371.72
8192                 4679.62
16384                6937.72
32768                3491.78
65536                3752.93
131072               6264.10
262144              14321.25
524288               6454.97
1048576             12851.74
FLUXTIME fluxsubmit wall time 1:29.98
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 32 -n256 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 90.0s
broker.info[0]: rc2-success: run->cleanup 1.49981m
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.633992s
broker.err[0]: flux-sample-8 (rank 8) transitioning to full->LOST after 92s due to EHOSTUNREACH error on send
broker.err[0]: flux-sample-10 (rank 10) transitioning to full->LOST after 92s due to EHOSTUNREACH error on send
broker.err[0]: flux-sample-3 (rank 3) transitioning to full->LOST after 93s due to EHOSTUNREACH error on send
broker.err[0]: flux-sample-9 (rank 9) transitioning to full->LOST after 92s due to EHOSTUNREACH error on send
broker.err[0]: flux-sample-15 (rank 15) transitioning to full->LOST after 92s due to EHOSTUNREACH error on send
broker.err[0]: flux-sample-24 (rank 24) transitioning to full->LOST after 92s due to EHOSTUNREACH error on send
broker.err[0]: flux-sample-14 (rank 14) transitioning to full->LOST after 92s due to EHOSTUNREACH error on send
broker.info[0]: children-complete: shutdown->finalize 0.160358s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.3s
broker.info[0]: rc3-success: finalize->goodbye 0.289101s
broker.info[0]: goodbye: goodbye->exit 0.074931ms
FLUXTIME fluxstart wall time 1:33.35
