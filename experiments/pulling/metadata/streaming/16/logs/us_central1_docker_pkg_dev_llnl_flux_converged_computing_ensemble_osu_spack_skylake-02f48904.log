/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

🟧️  wait-fs: 2024/11/10 23:17:07 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
🟧️  wait-fs: 2024/11/10 23:17:07 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so.1.0
/mnt/flux/view/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
lrwxrwxrwx 1 root root 121 Nov 10 23:16 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

🌟️ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "uyW}rNVJ:H)B.?[rb1F5N>BeLUO*5aC<swDT#=G4"
    secret-key = ">EJRXynl.1y-:44lYrK(H]GUvBlW@61%TmGl#Uf^"
👋 Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
            Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [1 InRelease 13.8 kB/270 kB 5%] [2 InRelease 13.8 kB/129 kB 11%]                                                                   0% [1 InRelease 148 kB/270 kB 55%]                                  0% [Working]            Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [3 InRelease 12.3 kB/128 kB 10%]                                   0% [Working]0% [Waiting for headers]                        Get:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [4 InRelease 8140 B/127 kB 6%] [Waiting for headers]                                                       Get:5 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3241 kB]
0% [4 InRelease 125 kB/127 kB 98%] [5 Packages 2605 B/3241 kB 0%]                                                                 0% [5 Packages 5421 B/3241 kB 0%]0% [5 Packages 236 kB/3241 kB 7%]                                 Get:6 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
0% [6 Packages 2575 B/1792 kB 0%] [5 Packages 532 kB/3241 kB 16%]0% [6 Packages 276 kB/1792 kB 15%] [5 Packages 850 kB/3241 kB 26%]23% [6 Packages 1242 kB/1792 kB 69%] [5 Packages 2907 kB/3241 kB 90%]                                                                     25% [6 Packages 1792 kB/1792 kB 100%]                                     25% [Working]25% [5 Packages store 0 B]                          Get:7 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1163 kB]
25% [5 Packages store 0 B] [Waiting for headers] [7 Packages 26.5 kB/1163 kB 2%                                                                               Get:8 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
25% [5 Packages store 0 B] [8 Packages 16.4 kB/17.5 MB 0%] [7 Packages 71.6 kB/30% [5 Packages store 0 B] [8 Packages 1001 kB/17.5 MB 6%] [Waiting for headers                                                                               Get:9 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2397 kB]
31% [5 Packages store 0 B] [8 Packages 1001 kB/17.5 MB 6%] [9 Packages 119 kB/2                                                                               37% [8 Packages 1972 kB/17.5 MB 11%] [9 Packages 1623 kB/2397 kB 68%]37% [6 Packages store 0 B] [8 Packages 1972 kB/17.5 MB 11%] [9 Packages 1623 kB                                                                               43% [8 Packages 3751 kB/17.5 MB 21%] [9 Packages 2397 kB/2397 kB 100%]43% [7 Packages store 0 B] [8 Packages 3763 kB/17.5 MB 22%] [9 Packages 2397 kB48% [7 Packages store 0 B] [8 Packages 5977 kB/17.5 MB 34%] [Waiting for header                                                                               Get:10 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
                                                                               48% [7 Packages store 0 B] [8 Packages 5977 kB/17.5 MB 34%]                                                           51% [8 Packages 6797 kB/17.5 MB 39%]51% [9 Packages store 0 B] [8 Packages 6797 kB/17.5 MB 39%]                                                           59% [8 Packages 9912 kB/17.5 MB 57%]59% [10 Packages store 0 B] [8 Packages 9912 kB/17.5 MB 57%]                                                            59% [8 Packages 9912 kB/17.5 MB 57%]                                    76% [Waiting for headers]                         Get:11 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
77% [11 Packages 99.7 kB/164 kB 61%]77% [8 Packages store 0 B] [11 Packages 132 kB/164 kB 81%]                                                          77% [8 Packages store 0 B] [Waiting for headers]                                                Get:12 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
77% [8 Packages store 0 B] [12 Packages 99.0 kB/266 kB 37%]                                                           77% [8 Packages store 0 B] [Waiting for headers]                                                Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1452 kB]
78% [8 Packages store 0 B] [13 Packages 95.2 kB/1452 kB 7%]                                                           81% [8 Packages store 0 B] [Waiting for headers]                                                Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
                                                Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2696 kB]
81% [8 Packages store 0 B] [15 Packages 98.1 kB/2696 kB 4%]                                                           87% [8 Packages store 0 B] [Waiting for headers]                                                Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3353 kB]
87% [8 Packages store 0 B] [16 Packages 88.5 kB/3353 kB 3%]                                                           95% [8 Packages store 0 B] [Waiting for headers]                                                Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
                                                Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
95% [8 Packages store 0 B] [18 Packages 81.4 kB/81.4 kB 100%]                                                             95% [8 Packages store 0 B]95% [8 Packages store 0 B]                          96% [Working]96% [11 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.9 MB in 5s (7255 kB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 59%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 51%Reading package lists... 51%Reading package lists... 52%Reading package lists... 52%Reading package lists... 59%Reading package lists... 60%Reading package lists... 60%Reading package lists... 72%Reading package lists... 72%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 76%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 84%Reading package lists... 84%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
14% [1 time 8158 B/46.7 kB 17%]                               100% [Working]              Fetched 46.7 kB in 0s (93.4 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
🚩️ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 16 -n128  

🌀 Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 16 -n128   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 16 -n128  
broker.info[0]: start: none->join 0.536803ms
broker.info[0]: parent-none: join->init 0.025635ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 1.0s
broker.info[0]: rc1-success: init->quorum 1.04178s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-15] (ranks 0-15)
broker.info[0]: quorum-full: quorum->run 0.349562s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                    2310.50
2                    1027.55
4                    1389.15
8                     563.85
16                   1522.77
32                    730.65
64                    688.72
128                  1334.67
256                   653.86
512                  1588.27
1024                 1061.67
2048                 1179.49
4096                  895.86
8192                 1865.30
16384                1549.11
32768                1473.75
65536                2340.89
131072               4887.03
262144               1315.87
524288               2289.30
1048576              7126.47
FLUXTIME fluxsubmit wall time 0:40.69
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 16 -n128 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 40.7s
broker.info[0]: rc2-success: run->cleanup 40.7002s
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.2s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.2s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.636812s
broker.info[0]: children-complete: shutdown->finalize 0.165722s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.3s
broker.info[0]: rc3-success: finalize->goodbye 0.258552s
broker.info[0]: goodbye: goodbye->exit 0.103547ms
FLUXTIME fluxstart wall time 0:43.17
