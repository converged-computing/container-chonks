/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

🟧️  wait-fs: 2024/10/04 02:10:41 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
🟧️  wait-fs: 2024/10/04 02:10:41 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so
/mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
lrwxrwxrwx 1 root root 121 Oct  4 02:10 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

🌟️ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "st){RgWWt&lW!aVoy#@x9*V2hE$KC!5e:lyf=6m2"
    secret-key = "dR{RUL>]G*5JgI6Xe])HT6=1g}AecgoH@Mot2z*L"
👋 Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [Connecting to archive.ubuntu.com] [1 InRelease 11.0 kB/129 kB 8%]                                                                     Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
                                                                     0% [2 InRelease 11.0 kB/270 kB 4%] [1 InRelease 40.5 kB/129 kB 31%]                                                                   0% [2 InRelease 33.5 kB/270 kB 12%]                                   0% [Working]0% [Waiting for headers]                        Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [3 InRelease 11.0 kB/128 kB 9%] [Waiting for headers]                                                        Get:4 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3113 kB]
0% [3 InRelease 78.5 kB/128 kB 61%] [4 Packages 4013 B/3113 kB 0%]                                                                  0% [4 Packages 25.1 kB/3113 kB 1%]                                  Get:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [5 InRelease 11.0 kB/127 kB 9%] [4 Packages 167 kB/3113 kB 5%]                                                                 0% [4 Packages 219 kB/3113 kB 7%]0% [4 Packages 519 kB/3113 kB 17%]                                  Get:6 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
0% [6 Packages 11.0 kB/164 kB 7%] [4 Packages 1050 kB/3113 kB 34%]                                                                  0% [4 Packages 1763 kB/3113 kB 57%]0% [6 Packages store 0 B] [Waiting for headers] [4 Packages 1763 kB/3113 kB 57%                                                                               0% [Waiting for headers] [4 Packages 2330 kB/3113 kB 75%]                                                         0% [Waiting for headers]0% [4 Packages store 0 B] [Waiting for headers]                                               Get:7 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
0% [4 Packages store 0 B] [7 Packages 11.0 kB/1792 kB 1%] [Waiting for headers]                                                                               0% [4 Packages store 0 B] [7 Packages 155 kB/1792 kB 9%] [Waiting for headers]                                                                              Get:8 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2318 kB]
0% [4 Packages store 0 B] [7 Packages 340 kB/1792 kB 19%] [8 Packages 16.7 kB/20% [4 Packages store 0 B] [7 Packages 562 kB/1792 kB 31%] [Waiting for headers]                                                                               Get:9 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
0% [4 Packages store 0 B] [7 Packages 562 kB/1792 kB 31%] [9 Packages 44.7 kB/40% [4 Packages store 0 B] [7 Packages 573 kB/1792 kB 32%] [Waiting for headers]                                                                               Get:10 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1159 kB]
0% [4 Packages store 0 B] [7 Packages 573 kB/1792 kB 32%] [10 Packages 29.9 kB/                                                                               0% [4 Packages store 0 B] [7 Packages 838 kB/1792 kB 47%]                                                         0% [4 Packages store 0 B] [Waiting for headers]                                               Get:11 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
0% [4 Packages store 0 B] [11 Packages 45.1 kB/266 kB 17%]                                                          0% [4 Packages store 0 B]                         Get:12 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
0% [4 Packages store 0 B] [12 Packages 12.3 kB/17.5 MB 0%]36% [4 Packages store 0 B] [12 Packages 390 kB/17.5 MB 2%]                                                          52% [12 Packages 7212 kB/17.5 MB 41%]52% [8 Packages store 0 B] [12 Packages 7278 kB/17.5 MB 42%]                                                            76% [8 Packages store 0 B] [Waiting for headers]                                                Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
76% [8 Packages store 0 B] [13 Packages 29.6 kB/51.8 kB 57%]                                                            76% [8 Packages store 0 B]                          Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1447 kB]
76% [8 Packages store 0 B] [14 Packages 28.7 kB/1447 kB 2%]                                                           80% [8 Packages store 0 B] [Waiting for headers]                                                Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2596 kB]
80% [8 Packages store 0 B] [15 Packages 28.7 kB/2596 kB 1%]                                                           82% [15 Packages 823 kB/2596 kB 32%]82% [9 Packages store 0 B] [15 Packages 877 kB/2596 kB 34%]                                                           84% [15 Packages 1229 kB/2596 kB 47%]84% [10 Packages store 0 B] [15 Packages 1270 kB/2596 kB 49%]                                                             87% [10 Packages store 0 B] [Waiting for headers]                                                 Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3191 kB]
87% [10 Packages store 0 B] [16 Packages 41.2 kB/3191 kB 1%]                                                            94% [10 Packages store 0 B] [Waiting for headers]                                                 Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
94% [10 Packages store 0 B] [17 Packages 24.6 kB/33.7 kB 73%]                                                             94% [10 Packages store 0 B] [Waiting for headers]                                                 Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
94% [10 Packages store 0 B] [18 Packages 48.7 kB/81.4 kB 60%]                                                             94% [10 Packages store 0 B]                           95% [Working]95% [7 Packages store 0 B]                          96% [Working]96% [11 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]96% [12 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.4 MB in 2s (14.1 MB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 52%Reading package lists... 52%Reading package lists... 53%Reading package lists... 53%Reading package lists... 58%Reading package lists... 61%Reading package lists... 61%Reading package lists... 72%Reading package lists... 72%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 85%Reading package lists... 85%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 52%Reading package lists... 52%Reading package lists... 53%Reading package lists... 53%Reading package lists... 58%Reading package lists... 61%Reading package lists... 61%Reading package lists... 72%Reading package lists... 72%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 85%Reading package lists... 85%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
24% [1 time 13.8 kB/46.7 kB 30%]                                100% [Working]              Fetched 46.7 kB in 0s (314 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
🚩️ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 4 -n32  

🌀 Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 4 -n32   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 4 -n32  
broker.info[0]: start: none->join 0.697935ms
broker.info[0]: parent-none: join->init 0.026003ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 4.1s
broker.info[0]: rc1-success: init->quorum 4.14714s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-3] (ranks 0-3)
broker.info[0]: quorum-full: quorum->run 2.11785s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                     238.48
2                     212.13
4                     300.89
8                     167.63
16                    178.94
32                   1106.59
64                   1133.55
128                   357.80
256                  1026.37
512                   348.29
1024                  736.64
2048                  601.49
4096                  442.16
8192                  538.66
16384                 377.63
32768                 449.82
65536                 506.45
131072                595.06
262144               1068.81
524288               1614.12
1048576              2816.90
FLUXTIME fluxsubmit wall time 0:13.55
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 4 -n32 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 13.6s
broker.info[0]: rc2-success: run->cleanup 13.5582s
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.609448s
broker.info[0]: children-complete: shutdown->finalize 0.136105s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.2s
broker.info[0]: rc3-success: finalize->goodbye 0.210888s
broker.info[0]: goodbye: goodbye->exit 0.076836ms
FLUXTIME fluxstart wall time 0:20.79
