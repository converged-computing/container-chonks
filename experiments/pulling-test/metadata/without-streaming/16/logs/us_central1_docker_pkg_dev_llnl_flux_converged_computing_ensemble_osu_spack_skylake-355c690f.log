/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

ðŸŸ§ï¸  wait-fs: 2024/10/04 14:46:11 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
ðŸŸ§ï¸  wait-fs: 2024/10/04 14:46:11 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so
/mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
lrwxrwxrwx 1 root root 121 Oct  4 14:45 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

ðŸŒŸï¸ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "EQ[%7HL?r$xUvr*Ow-U]*(1+qEyj@$}T^M9qiH6r"
    secret-key = "PS%#HDCS@WH1BSu3AAaTHD&5vJ%}3ho#:J)tqnm3"
ðŸ‘‹ Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [Waiting for headers] [1 InRelease 13.8 kB/129 kB 11%]                                                         Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
0% [2 InRelease 13.8 kB/270 kB 5%] [1 InRelease 13.8 kB/129 kB 11%]                                                                   0% [2 InRelease 149 kB/270 kB 55%]                                  0% [Working]            Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [3 InRelease 8140 B/128 kB 6%]                                 0% [Working]0% [Waiting for headers]                        Get:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [4 InRelease 8140 B/127 kB 6%] [Waiting for headers]                                                       0% [Waiting for headers]                        Get:5 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3113 kB]
0% [5 Packages 2605 B/3113 kB 0%]0% [5 Packages 350 kB/3113 kB 11%]                                  Get:6 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
0% [6 Packages 6797 B/17.5 MB 0%] [5 Packages 785 kB/3113 kB 25%]0% [6 Packages 570 kB/17.5 MB 3%] [5 Packages 2354 kB/3113 kB 76%]                                                                  0% [6 Packages 922 kB/17.5 MB 5%]0% [5 Packages store 0 B] [6 Packages 930 kB/17.5 MB 5%] [Waiting for headers]                                                                              Get:7 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
0% [5 Packages store 0 B] [6 Packages 2009 kB/17.5 MB 11%] [7 Packages 15.3 kB/0% [5 Packages store 0 B] [6 Packages 2017 kB/17.5 MB 12%] [Waiting for headers                                                                               Get:8 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2318 kB]
0% [5 Packages store 0 B] [6 Packages 2017 kB/17.5 MB 12%] [8 Packages 20.5 kB/0% [5 Packages store 0 B] [6 Packages 3447 kB/17.5 MB 20%] [Waiting for headers                                                                               Get:9 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1159 kB]
0% [5 Packages store 0 B] [6 Packages 3447 kB/17.5 MB 20%] [9 Packages 29.9 kB/36% [5 Packages store 0 B] [6 Packages 3839 kB/17.5 MB 22%] [9 Packages 421 kB/                                                                               41% [5 Packages store 0 B] [6 Packages 5109 kB/17.5 MB 29%]                                                           57% [6 Packages 11.7 MB/17.5 MB 67%]57% [7 Packages store 0 B] [6 Packages 11.7 MB/17.5 MB 67%]                                                           58% [6 Packages 11.8 MB/17.5 MB 68%]58% [8 Packages store 0 B] [6 Packages 11.8 MB/17.5 MB 68%]                                                           71% [8 Packages store 0 B]                          Get:10 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
71% [8 Packages store 0 B] [10 Packages 24.3 kB/164 kB 15%]                                                           71% [8 Packages store 0 B] [Waiting for headers]                                                Get:11 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
71% [8 Packages store 0 B] [11 Packages 56.4 kB/266 kB 21%]                                                           72% [8 Packages store 0 B] [Waiting for headers]                                                Get:12 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
72% [8 Packages store 0 B] [12 Packages 52.6 kB/1792 kB 3%]                                                           73% [12 Packages 249 kB/1792 kB 14%]73% [9 Packages store 0 B] [12 Packages 249 kB/1792 kB 14%]                                                           77% [9 Packages store 0 B] [Waiting for headers]                                                Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3191 kB]
77% [9 Packages store 0 B] [13 Packages 29.6 kB/3191 kB 1%]                                                           83% [13 Packages 2687 kB/3191 kB 84%]83% [6 Packages store 0 B] [13 Packages 2687 kB/3191 kB 84%]                                                            85% [6 Packages store 0 B] [Waiting for headers]                                                Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2596 kB]
85% [6 Packages store 0 B] [14 Packages 22.8 kB/2596 kB 1%]                                                           91% [6 Packages store 0 B] [Waiting for headers]                                                Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1447 kB]
91% [6 Packages store 0 B] [15 Packages 34.8 kB/1447 kB 2%]                                                           94% [6 Packages store 0 B] [Waiting for headers]                                                Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
94% [6 Packages store 0 B] [16 Packages 29.5 kB/51.8 kB 57%]                                                            94% [6 Packages store 0 B] [Waiting for headers]                                                Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
94% [6 Packages store 0 B] [17 Packages 43.0 kB/81.4 kB 53%]                                                            94% [6 Packages store 0 B] [Waiting for headers]                                                Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
94% [6 Packages store 0 B] [18 Packages 26.9 kB/33.7 kB 80%]                                                            94% [6 Packages store 0 B]94% [6 Packages store 0 B]                          95% [Working]95% [10 Packages store 0 B]                           96% [Working]96% [11 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.4 MB in 3s (13.4 MB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 52%Reading package lists... 52%Reading package lists... 53%Reading package lists... 53%Reading package lists... 57%Reading package lists... 61%Reading package lists... 61%Reading package lists... 72%Reading package lists... 72%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 85%Reading package lists... 85%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 52%Reading package lists... 52%Reading package lists... 53%Reading package lists... 53%Reading package lists... 57%Reading package lists... 61%Reading package lists... 61%Reading package lists... 72%Reading package lists... 72%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 85%Reading package lists... 85%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
24% [1 time 13.8 kB/46.7 kB 30%]                                100% [Working]              Fetched 46.7 kB in 1s (90.2 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
ðŸš©ï¸ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 16 -n128  

ðŸŒ€ Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 16 -n128   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 16 -n128  
broker.info[0]: start: none->join 0.504654ms
broker.info[0]: parent-none: join->init 0.027278ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 1.5s
broker.info[0]: rc1-success: init->quorum 1.54622s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-15] (ranks 0-15)
broker.info[0]: quorum-full: quorum->run 0.530259s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                    1109.70
2                     819.91
4                    1207.68
8                     584.62
16                   1912.41
32                    941.29
64                   1519.59
128                  1587.22
256                  1395.55
512                  1145.66
1024                 1292.05
2048                 1583.09
4096                 1284.55
8192                 1261.95
16384                2734.50
32768                1341.82
65536                2160.95
131072               3763.38
262144               8871.11
524288              13545.67
1048576              5821.28
FLUXTIME fluxsubmit wall time 0:44.27
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 16 -n128 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 44.3s
broker.info[0]: rc2-success: run->cleanup 44.274s
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.2s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.2s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.666518s
broker.info[0]: children-complete: shutdown->finalize 0.150489s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.3s
broker.info[0]: rc3-success: finalize->goodbye 0.267982s
broker.info[0]: goodbye: goodbye->exit 0.090017ms
FLUXTIME fluxstart wall time 0:47.46
