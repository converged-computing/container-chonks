/usr/bin/time is required to use logging.timed true

Flux install root: /mnt/flux/view

ðŸŸ§ï¸  wait-fs: 2024/10/04 17:10:18 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
ðŸŸ§ï¸  wait-fs: 2024/10/04 17:10:18 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so
/mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/view/lib/libpython3.so
./mnt/flux/view/lib/libpython3.11.so
./mnt/flux/view/lib/libpython3.11.so.1.0
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./mnt/flux/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so
./opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0
lrwxrwxrwx 1 root root 121 Oct  4 17:10 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/python-3.11.7-dne37dvjelr7oaag76ipidxkt5uyr5is/lib/libpython3.11.so.1.0

Hello user root

ðŸŒŸï¸ Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "flux-sample-0"
curve
    public-key = "+NS7bvsC34Cw6B&!B:=87F?S7z)r6(Horx2r9S3d"
    secret-key = "1Z$3JZWb3A*Y2SZ-^2BH!-#SZ)q8XL4^vuM3g^GA"
ðŸ‘‹ Hello, I'm flux-sample-0
The main host is flux-sample-0
The working directory is /, contents include:
bin   dev  flux_operator  lib	 lib64	 media	opt   root  sbin  sys  usr
boot  etc  home		  lib32  libx32  mnt	proc  run   srv   tmp  var
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
            Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
0% [1 InRelease 11.0 kB/270 kB 4%] [2 InRelease 13.8 kB/129 kB 11%]                                                                   0% [1 InRelease 157 kB/270 kB 58%]                                  0% [Working]            Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
0% [3 InRelease 8140 B/128 kB 6%]                                 0% [Working]            Get:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
0% [4 InRelease 8140 B/127 kB 6%]                                 0% [Working]0% [Working]            Get:5 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1159 kB]
0% [5 Packages 4096 B/1159 kB 0%]                                 0% [Working]0% [5 Packages store 0 B] [Waiting for headers]0% [5 Packages store 0 B] [Waiting for headers]                                               Get:6 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.7 kB]
                                               Get:7 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [3113 kB]
0% [5 Packages store 0 B] [7 Packages 395 kB/3113 kB 13%]0% [Waiting for headers] [7 Packages 1204 kB/3113 kB 39%]0% [6 Packages store 0 B] [Waiting for headers] [7 Packages 1204 kB/3113 kB 39%                                                                               0% [Waiting for headers] [7 Packages 1204 kB/3113 kB 39%]                                                         Get:8 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
0% [8 Packages 8205 B/17.5 MB 0%] [7 Packages 1642 kB/3113 kB 53%]                                                                  0% [8 Packages 326 kB/17.5 MB 2%] [Waiting for headers]                                                       Get:9 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2318 kB]
0% [8 Packages 326 kB/17.5 MB 2%] [9 Packages 119 kB/2318 kB 5%]0% [7 Packages store 0 B] [8 Packages 335 kB/17.5 MB 2%] [9 Packages 119 kB/231                                                                               0% [7 Packages store 0 B] [8 Packages 611 kB/17.5 MB 3%]0% [7 Packages store 0 B] [8 Packages 6558 kB/17.5 MB 38%]                                                          0% [8 Packages 7788 kB/17.5 MB 45%]0% [9 Packages store 0 B] [8 Packages 7788 kB/17.5 MB 45%]                                                          0% [8 Packages 17.5 MB/17.5 MB 100%]                                    0% [Working]0% [8 Packages store 0 B]                         Get:10 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
0% [8 Packages store 0 B] [10 Packages 24.3 kB/1792 kB 1%]                                                          0% [8 Packages store 0 B] [Waiting for headers]                                               Get:11 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
0% [8 Packages store 0 B] [11 Packages 132 kB/266 kB 50%]                                                         0% [8 Packages store 0 B]                         Get:12 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
0% [8 Packages store 0 B] [12 Packages 164 kB/164 kB 100%]                                                          0% [8 Packages store 0 B] [Waiting for headers]                                               Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2596 kB]
0% [8 Packages store 0 B] [13 Packages 136 kB/2596 kB 5%]                                                         0% [8 Packages store 0 B] [Waiting for headers]                                               Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1447 kB]
0% [8 Packages store 0 B] [14 Packages 120 kB/1447 kB 8%]                                                         0% [8 Packages store 0 B] [Waiting for headers]                                               Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3191 kB]
0% [8 Packages store 0 B] [15 Packages 176 kB/3191 kB 6%]90% [8 Packages store 0 B] [15 Packages 1622 kB/3191 kB 51%]                                                            94% [8 Packages store 0 B] [Waiting for headers]                                                Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [51.8 kB]
                                                94% [8 Packages store 0 B]                          Get:17 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [81.4 kB]
94% [8 Packages store 0 B] [17 Packages 17.1 kB/81.4 kB 21%]                                                            94% [8 Packages store 0 B] [Waiting for headers]                                                Get:18 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.7 kB]
                                                94% [8 Packages store 0 B]94% [8 Packages store 0 B]                          95% [Working]95% [10 Packages store 0 B]                           96% [Working]96% [11 Packages store 0 B]                           96% [Working]96% [12 Packages store 0 B]                           97% [Working]97% [13 Packages store 0 B]                           97% [Working]97% [14 Packages store 0 B]                           98% [Working]98% [15 Packages store 0 B]                           98% [Working]98% [16 Packages store 0 B]                           99% [Working]99% [17 Packages store 0 B]                           99% [Working]99% [18 Packages store 0 B]                           100% [Working]              Fetched 34.4 MB in 3s (12.3 MB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 52%Reading package lists... 52%Reading package lists... 53%Reading package lists... 53%Reading package lists... 54%Reading package lists... 61%Reading package lists... 61%Reading package lists... 72%Reading package lists... 72%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 85%Reading package lists... 85%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 4%Reading package lists... 4%Reading package lists... 5%Reading package lists... 5%Reading package lists... 52%Reading package lists... 52%Reading package lists... 53%Reading package lists... 53%Reading package lists... 53%Reading package lists... 61%Reading package lists... 61%Reading package lists... 72%Reading package lists... 72%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 77%Reading package lists... 85%Reading package lists... 85%Reading package lists... 95%Reading package lists... 95%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... 99%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree... 95%Building dependency tree... Done
Reading state information... 0% Reading state information... 3%Reading state information... Done
The following NEW packages will be installed:
  time
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 46.7 kB of archives.
After this operation, 129 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 time amd64 1.9-0.1build2 [46.7 kB]
24% [1 time 13.8 kB/46.7 kB 30%]                                100% [Working]              Fetched 46.7 kB in 1s (88.2 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package time.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5195 files and directories currently installed.)
Preparing to unpack .../time_1.9-0.1build2_amd64.deb ...
Unpacking time (1.9-0.1build2) ...
Setting up time (1.9-0.1build2) ...
ðŸš©ï¸ Flux Option Flags defined
Command provided is: -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 32 -n256  

ðŸŒ€ Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local -Stbon.connect_timeout=5s    -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 32 -n256   --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce
Flags for flux are -N 32 -n256  
broker.info[0]: start: none->join 0.535719ms
broker.info[0]: parent-none: join->init 0.03839ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc1 Exited (rc=0) 1.1s
broker.info[0]: rc1-success: init->quorum 1.12021s
broker.info[0]: online: flux-sample-0 (ranks 0)
broker.info[0]: online: flux-sample-[0-31] (ranks 0-31)
broker.info[0]: quorum-full: quorum->run 12.1141s

# OSU MPI Allreduce Latency Test v7.4
# Datatype: MPI_CHAR.
# Size       Avg Latency(us)
1                    3095.72
2                    3980.66
4                    4210.62
8                    1535.61
16                   4064.54
32                   1096.76
64                   3811.52
128                  4294.52
256                  4279.08
512                  3809.63
1024                 2100.07
2048                 4756.51
4096                 8575.96
8192                 6519.47
16384                4222.60
32768                1644.48
65536                4447.46
131072               4384.03
262144               4821.99
524288              22492.06
1048576             18059.85
FLUXTIME fluxsubmit wall time 2:06.58
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux submit -N 32 -n256 --quiet --watch -o cpu-affinity=per-task /opt/view/libexec/osu-micro-benchmarks/mpi/collective/osu_allreduce Exited (rc=0) 126.6s
broker.info[0]: rc2-success: run->cleanup 2.10991m
broker.info[0]: cleanup.0: flux jobtap remove perilog 2>/dev/null || true Exited (rc=0) 0.2s
broker.info[0]: cleanup.1: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.2s
broker.info[0]: cleanup.2: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.2s
broker.info[0]: cleanup.3: flux queue idle --quiet Exited (rc=0) 0.2s
broker.info[0]: cleanup-success: cleanup->shutdown 0.690496s
broker.info[0]: children-complete: shutdown->finalize 0.213755s
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.4.0/flux-core-0.61.2-zpun7rhwtkelzplutv4nvzwj5ydo7h7p/etc/flux/rc3 Exited (rc=0) 0.3s
broker.info[0]: rc3-success: finalize->goodbye 0.312087s
broker.info[0]: goodbye: goodbye->exit 0.080888ms
FLUXTIME fluxstart wall time 2:21.07
